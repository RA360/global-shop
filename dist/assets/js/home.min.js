"use strict";var sliderDots=document.querySelectorAll(".slider__dot"),index=0,goToSlide=function(a){var b=document.querySelectorAll(".slide");index=(a+b.length)%b.length,document.querySelector(".slide.active").classList.remove("active"),b[index].classList.add("active"),document.querySelector("#showBtns").href="detail?id=".concat(b[index].dataset.goodsId),document.querySelector(".slider__dot.active").classList.remove("active"),sliderDots[index].classList.add("active")};document.querySelector("#sliderPrev").addEventListener("click",function(){return goToSlide(index-1)}),document.querySelector("#sliderNext").addEventListener("click",function(){return goToSlide(index+1)}),sliderDots.forEach(function(a){return a.addEventListener("click",function(){return goToSlide(+a.textContent-1)})}),document.querySelectorAll(".play").forEach(function(a){return a.addEventListener("click",function(){return a.parentNode.innerHTML="<video src=\"assets/videos/".concat(a.dataset.video,"\" type=\"video/mp4\" autoplay controls></video>")})});var query={cat:"headphones",sort:"`id` DESC"},fetchGoods=function(){var a=document.querySelector("#goodsList");a.innerHTML="<div class=\"spinner center\"><div class=\"rect\"></div><div class=\"rect rect_2\"></div><div class=\"rect rect_3\"></div><div class=\"rect rect_4\"></div><div class=\"rect rect_5\"></div></div>",fetch("ajax/homeGoods",{method:"POST",body:"WHERE `category` = '".concat(query.cat,"' ").concat(query.color?"AND `color` = '".concat(query.color,"'"):""," ORDER BY ").concat(query.sort?query.sort:"")}).then(function(a){return a.text()}).then(function(b){return""==b?a.innerHTML="<p class=\"not-found center\">No products found</p>":a.innerHTML=b})};fetchGoods(),document.querySelectorAll(".sorts_cat .sort").forEach(function(a){a.addEventListener("click",function(){a.parentNode.querySelector(".sort.active").classList.remove("active"),a.classList.add("active"),query.cat=a.dataset.cat,fetchGoods()}),a.addEventListener("mouseover",function(){a.parentNode.querySelector(".sort.active").style.opacity=.6,a.style.opacity=1}),a.addEventListener("mouseout",function(){a.classList.contains("active")||(a.parentNode.querySelector(".sort.active").style.opacity=1,a.style.opacity=.6)})}),document.querySelectorAll(".sorts_color .sort").forEach(function(a){a.addEventListener("click",function(){var b=a.parentNode.querySelector(".sort.active");a.classList.contains("active")?delete query.color:(query.color=a.dataset.color,b&&b.classList.remove("active")),a.classList.toggle("active"),fetchGoods()})}),document.querySelector("#goodsSel").addEventListener("change",function(a){switch(a.target.value){case"ascending":query.sort="`price` ASC";break;case"descending":query.sort="`price` DESC";break;default:query.sort="`id` DESC";}fetchGoods()});